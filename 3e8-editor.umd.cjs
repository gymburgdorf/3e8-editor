(function(i,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):(i=typeof globalThis<"u"?globalThis:i||self,t(i["3e8-editor"]={}))})(this,function(i){"use strict";var y=Object.defineProperty;var b=(i,t,o)=>t in i?y(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o;var d=(i,t,o)=>(b(i,typeof t!="symbol"?t+"":t,o),o);function t(s){return new Promise((e,n)=>{const r=document.createElement("script");r.src=s,r.onload=e,r.onerror=n,document.head.appendChild(r)})}const o="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs";document.head.insertAdjacentHTML("beforeend",`
    <link rel="stylesheet"
    data-name="vs/editor/editor.main"
    href="${o}/editor/editor.main.min.css">
`);async function c(){await t(`${o}/loader.min.js`);const s=window.require;return s.config({paths:{vs:o}}),new Promise(e=>{s(["vs/editor/editor.main"],()=>{e(monaco.editor)})})}let h=c();class a{constructor(e,n){d(this,"editorState");d(this,"monacoEditor");var l;this.editorState=Object.assign({element:null,mode:"javascript",theme:"dark",fontSize:24,code:((l=e.element)==null?void 0:l.textContent)||"",readOnly:!1,disableSelect:!1,showLineNumbers:!["css","svg"].includes(e.mode||""),minLines:4,showInvisibles:e.mode==="python",maxLines:20,showGutter:!0},e);const{element:r=document.documentElement.appendChild(document.createElement("div")),code:m,minLines:v,maxLines:z,theme:E,mode:u,showGutter:g,showLineNumbers:S,readOnly:f,fontSize:p,showInvisibles:w}=this.editorState;this.editorState.element.innerHTML="",this.monacoEditor=n.create(r,{value:m||"//missing code :-)",language:u,theme:"vs-dark",readOnly:f,fontSize:p,tabSize:2,insertSpaces:!1,renderWhitespace:w?"boundary":"none",...(!g||!S)&&{lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0},scrollbar:{useShadows:!0,verticalHasArrows:!0,horizontalHasArrows:!0,verticalScrollbarSize:8,horizontalScrollbarSize:8,arrowSize:12},renderLineHighlight:"none",scrollBeyondLastLine:!1,wrappingStrategy:"advanced",minimap:{enabled:!1},overviewRulerLanes:0,hideCursorInOverviewRuler:!0,overviewRulerBorder:!1,lineNumbersMinChars:3}),this.monacoEditor.onDidContentSizeChange(()=>this.updateHeight()),this.updateHeight()}static async create(e){let n=await h;return new a(e,n)}updateHeight(){console.log({h:this.monacoEditor.getContentHeight()});const e=Math.min(500,this.monacoEditor.getContentHeight());this.editorState.element.style.height=`${e}px`,this.monacoEditor.layout({width:this.editorState.element.getBoundingClientRect().width,height:e})}resize(){return console.log(123),this.updateHeight()}setValue(e){var n;return(n=this.monacoEditor.getModel())==null?void 0:n.setValue(e)}getValue(){var e;return(e=this.monacoEditor.getModel())==null?void 0:e.getValue()}undo(){return this.monacoEditor.trigger("myedits","redo","myedits")}redo(){return this.monacoEditor.trigger("myedits","undo","myedits")}sizeup(){this.setFontSize(this.editorState.fontSize+1)}sizedown(){this.setFontSize(this.editorState.fontSize-1)}setFontSize(e){return this.editorState.fontSize=e,this.monacoEditor.updateOptions({fontSize:e})}}i.Editor=a,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
